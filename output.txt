Extracting EDF parameters from /projects/EEG_FMRI/bids_eeg/BIDS/NEW/PREP_BV_EDF/sub-19_ses-01_task-rest_run-01_eeg.edf...
EDF file detected
Setting channel info structure...
Creating raw.info structure...
Reading 0 ... 169249  =      0.000 ...   676.996 secs...
Traceback (most recent call last):
  File "/home/slouviot/01_projects/eeg_brain_state_prediction/envelope_and_TF_pipeline.py", line 323, in <module>
    Main()
  File "/home/slouviot/01_projects/eeg_brain_state_prediction/envelope_and_TF_pipeline.py", line 318, in Main
    raise e
  File "/home/slouviot/01_projects/eeg_brain_state_prediction/envelope_and_TF_pipeline.py", line 313, in Main
    features_object.__getattribute__(process)().save(saving_path)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/slouviot/01_projects/eeg_brain_state_prediction/envelope_and_TF_pipeline.py", line 223, in run_wavelets
    cropped_time_frequency_representation = specific_crop(TF, margin = 0)
                                                          ^^
NameError: name 'TF' is not defined
